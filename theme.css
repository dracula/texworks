/* 
 * Original Work: darkbg.css from texworks-dark-theme (https://github.com/ezellohar/texworks-dark-theme)
 * Original copyright © GitHub user ezellohar
 * Modifications by Wᴏɴɢ Chung, 2025
 * Licensed under GNU General Public License v3.0 (GPL-3.0)
 */

/* 
 * QWidget:
 *     Main interface colors
 *     主界面颜色
 */
QWidget {
    background-color: #222222;
	selection-background-color: #555555;
    color: #cccccc;
	selection-color: white;
}

/* 
 * QTextEdit:
 *     The actual text editor window
 *     文本编辑器窗口
 */
QTextEdit {
    background-color: #282a36;  
    color: #f8f8f2;
	selection-background-color: #44475a;
	selection-color: #f8f8f2;
}

/* 
 * QComboBox:
 *     It refers to drop-down menus (such as when selecting pdfTeX, pdfLaTeX, XeTeX, etc.)
 *     下拉菜单(如选择pdfTeX/pdfLaTeX/XeTeX等)
 */
QComboBox {
    border: 1px solid gray;
    padding: 2px 18px 4px 6px;
    border-radius: 4px;
}

/* 
 * drop-down:
 *     The drop-arrow frame
 *     下拉箭头区域
 */
QComboBox::drop-down { 
    subcontrol-origin: padding;
    subcontrol-position: top right;
    width: 20px;
    border-left-width: 1px;
    border-left-color: #eeeeee;
    border-left-style: solid;
}

/* 
 * The menu once opened
 * 展开后的下拉菜单
 */
QComboBox QAbstractItemView {
    border: 2px solid darkgray;
    selection-background-color: #333333;
	background-color: black;
}

/* 
 * The drop-down arrow icon
 * 下拉箭头图标
 */
QComboBox::down-arrow {
    image: url(./src/down-arrow.png);
	width: 16px;
	height: 16px;
}

/* 
 * The drop-down arrow that is currently in use
 * 按下状态的下拉箭头
 */
QComboBox::down-arrow:on {
    top: 1px;
    left: 1px;
}

/* 
 * QMenuBar:
 *     It refers to the menu at the top (File, Edit, etc.)
 *     顶部菜单栏(文件/编辑等)
 * QMenu::item 
 *     It refers to the items under the menu
 *     菜单项
 */
QMenu::item:selected {
    background-color: #333333;
}

QMenuBar::item:pressed,  QMenuBar::item:selected {
    background: #333333;
}

/* QScrollBar:
 *     handles scroll bars. It must be doubled for vertical and horizontal
 *     滚动条控件（需分别设置垂直/水平）
 * handle:
 *     It is the moving part
 *     滑块部分
 * add-line:
 *     Add-line is the region where the arrow is drawn. If no image is embedded, the arrow is a dot.
 *     箭头所在区域(若无图片则显示圆点)
 */
QScrollBar:vertical { 
    background: #111111;
    width: 15px;
    margin: 20px 0 20px 0;
}

QScrollBar::handle:vertical {
    background: #555555;
    min-height: 20px;
}

QScrollBar::add-line:vertical {
     border: none;
     background: #333333;
     height: 20px;
     subcontrol-position: bottom;
     subcontrol-origin: margin;
}

QScrollBar::sub-line:vertical {
     border: none;
     background: #333333;
     height: 20px;
     subcontrol-position: top;
     subcontrol-origin: margin;
}

QScrollBar::add-line:vertical:pressed {
	background: #444444;
}

QScrollBar::sub-line:vertical:pressed {
	background: #444444;
}

QScrollBar::up-arrow:vertical {
    image: url(./src/up-arrow.png);
	border: none;
	width: 12px;
	height: 12px;
}

QScrollBar::down-arrow:vertical {
    image: url(./src/down-arrow.png);
	border: none;
	width: 12px;
	height: 12px;
}

/* 
 * This seems useless, but it is actually quite important
 * --it makes the scroll bar's background a uniform color instead of tiny dots, if it were removed.
 * 此属性看似无用，实则关键——移除后滚动条背景会变成散点而非纯色
 */
QScrollBar::add-page:vertical, QScrollBar::sub-page:vertical { 
    background: none;
}

/* 
 * Horizontal scroll bar
 * 水平滚动条
 */
QScrollBar:horizontal {
    background: #111111;
    height: 15px;
    margin: 0 20px 0 20px;
}

QScrollBar::handle:horizontal {
    background: #555555;
    min-width: 20px;
}

QScrollBar::add-line:horizontal {
     border: none;
     background: #333333;
    width: 20px;
    subcontrol-position: right;
    subcontrol-origin: margin;
}

QScrollBar::sub-line:horizontal {
     border: none;
     background: #333333;
    width: 20px;
    subcontrol-position: left;
    subcontrol-origin: margin;
}

QScrollBar::add-line:horizontal:pressed {
	background: #444444;
}

QScrollBar::sub-line:horizontal:pressed {
	background: #444444;
}

QScrollBar:left-arrow:horizontal {
    image: url(./src/left-arrow.png);
	border: none;
	width: 12px;
	height: 12px;
}

QScrollBar::right-arrow:horizontal {
    image: url(./src/right-arrow.png);
	border: none;
	width: 12px;
	height: 12px;
}

QScrollBar::add-page:horizontal, QScrollBar::sub-page:horizontal { 
    background: none;
}

/* 
 * QSizeGrip:
 *     Corner image to resize window
 *     窗口缩放角标
 */
QSizeGrip {
	image: url(./src/size-grip.png);
	width: 12px;
	height: 12px;
	background: none;
}

/* 
 * QTabWidget:
 *     The tab bar frame, needed for QTabBar styling
 *     标签页容器框架
 */
QTabWidget::pane {
    border: 1px solid #333333;
}

QTabWidget::tab-bar {
    left: 5px; /* Move to the right by 5px 向右偏移5像素 */
}

/* 
 * Buttons in prefs menu. It styles also the console close button if not specified
 * 偏好设置中的按钮(未单独指定时也会影响控制台关闭按钮)
 */
QTabWidget QToolButton {
	background-color: #444444;
	margin: 2px;
	padding: 1px;
}

QTabWidget QToolButton:hover {
    background-color: #555555;
}

/* QTabBar:
 *      Tabs (preferences, console output)
 *      选项卡(首选项，控制台输出)
 */
QTabBar::tab {
    background: #222222;
    border: 1px solid #555555;
	border-bottom-color: #333333; /* Same as pane color 与窗格颜色相同 */
	min-width: 8ex;
    padding: 4px 8px 4px 8px;
}

QTabBar::tab:selected {
    background: #333333;
	color: #ffffff;
	border-color: #555555;
    border-bottom-color: #333333; /* Same as pane color 与窗格颜色相同 */
}

QTabBar::tab:hover {
    background: #444444;
}

/* 
 * Make non-selected tabs look smaller
 * 使未选定的选项卡看起来更小
 */
QTabBar::tab:!selected {
    margin-top: 2px;
}

Tw--UI--ClosableTabWidget QToolButton {
    qproperty-icon: url(./src/close.png); /* image tag not working 不运行的图像标签 */
    background-color: #333333;
}
Tw--UI--ClosableTabWidget QToolButton:hover {
    background-color: #800000;
}

/* 
 * QDockWidget:
 *     Search results window
 *     搜索结果窗口
 */
QDockWidget {
    border: 1px solid lightgray;
	titlebar-close-icon: url(./src/close.png);
    titlebar-normal-icon: url(./src/undock.png);
}

QDockWidget::title {
    text-align: left;
    background: #222222;
    padding-left: 5px;
}

QDockWidget::close-button, QDockWidget::float-button {
    border: 1px solid transparent;
    background: none;
    padding: 0px;
}

QDockWidget::float-button:hover {
    background: #444444;
}

QDockWidget::close-button:hover {
    background: #800000;
}

/* 
 * QHeaderView:
 *     Search results header row
 *     搜索结果标题行
 */
QHeaderView::section  {
	background-color: #222222;
	border-right: 1px solid lightgray;
	border-left: 1px solid lightgray;
	color: white;
    padding-left: 4px;
}

QHeaderView::section:hover  {
	background-color: #444444;
}

/* 
 * QTableView:
 *     Search results rows
 *     搜索结果行
 */
QTableView {
   background-color: #111111;
   alternate-background-color: #222222;
   selection-background-color: #555555;
   font-color: #FFFFFF;
}

/* 
 * QToolButton:
 *     Buttons with images (under menu)
 *     带图像的按钮(在菜单下)
 */
QToolButton:hover {
    background-color: #444444;
}

/* 
 * QPushButton:
 *     Buttons with text (ok, cancel...)
 *     带文本的按钮(确定，取消...)
 */
QPushButton {
    background-color: #222222;
    border-style: outset;
    border-width: 1px;
    border-color: #555555;
    padding: 4px;
}

QPushButton:pressed {
    background-color: #555555;
	border-style: inset;
    border-width: 1px;
    border-color: #555555;
    padding: 4px;
}

QPushButton:hover {
	background-color: #444444;
}

Tw--UI--ScreenCalibrationWidget {
	color: #FFFFFF;
	background-color: #333333;
}